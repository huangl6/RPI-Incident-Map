<!DOCTYPE html>
<html>
    <head>
        <script src='https://api.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.css' rel='stylesheet' />
        <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet"> <!--Raleway Font link-->
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div>
            <div id='map'></div>
            <div id='title_box'>
                <div id='title_box_words'>
                    <h1>RPI Incident Map</h1>
                    <h5>Visualization of the Incidents Reported to Public Safety</h5>
                </div>   <!-- title_box_words -->   
            </div> <!-- title_box -->
            <div id='filter_box'>
                <div id='filter_box_words'>
                    <h2>Filters</h2>
                    <div class="white_back">
                        <p onclick="openNav()" class="dropbtn">Locations</p>
                        <p onclick="openNav2()" class="dropbtn">Date Range</p>
                    </div>
                    <div id="myNav" class="overlay">
                        <!-- Button to close the overlay navigation -->
                        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>

                        <!-- Overlay content -->
                        <div class="overlay-content">
                            <a href="#">Amos Eaten</a>
                            <a href="#">Barton</a>
                            <a href="#">BAR-H</a>
                            <a href="#">City Station</a>
                            <a href="#">Lally</a>
                            <a href="#">Student Union</a>
                        </div>
                    </div>

                    <div id="myNav2" class="overlay">
                        <!-- Button to close the overlay navigation -->
                        <a href="javascript:void(0)" class="closebtn" onclick="closeNav2()">&times;</a>

                        <!-- Overlay content -->
                        <div class="overlay-content2">
                            <a href="#">Date</a>
                            <a href="#">Month</a>
                            <a href="#">Year</a>
                        </div>
                    </div>
                    

                </div> <!-- filter_box_words -->
            </div> <!-- filter_box -->
        </div>
        <script>


        mapboxgl.accessToken = 'pk.eyJ1Ijoic3NjaGF0dHMiLCJhIjoiY2l1NDdib3N1MGl2MTJwbGhycnNqNGYxciJ9.uCMQ9n7xQCjRvRMnmFrLrw';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v9',
            center: [-73.676,42.727],
            zoom: 13.8,
            maxZoom: 17.5,
            minZoom: 13.7
        });

        map.on('load', function () {
            map.addSource("points", {
                "type": "geojson",
                "data": {
                    "type": "FeatureCollection",
                    "features": [{
                        "type": "Feature",
                        "geometry": {
                            "type": "Point",
                            "coordinates": [-73.677,42.730]
                        },
                        "properties": {
                            "icon": "monument"
                        }
                    }]
                }
            });

            map.addLayer({
                "id": "points",
                "type": "symbol",
                "source": "points",
                "layout": {
                    "icon-image": "{icon}-15",
                    "text-field": "{title}",
                    "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
                    "text-offset": [0, 0.6],
                    "text-anchor": "top"
                }
            });
        });

        function openNav() {
            document.getElementById("myNav").style.width = "100%";
        }

        /* Close when someone clicks on the "x" symbol inside the overlay */
        function closeNav() {
            document.getElementById("myNav").style.width = "0%";
        }

        function openNav2() {
            document.getElementById("myNav2").style.width = "100%";
        }

        /* Close when someone clicks on the "x" symbol inside the overlay */
        function closeNav2() {
            document.getElementById("myNav2").style.width = "0%";
        }

        </script>

    </body>
</html>
